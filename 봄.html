
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>선택형 이야기</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'YoonA 방울방울해', sans-serif;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      position: relative;
    }

    /* 배경 이미지 고정 */
    #background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: url('계절기본이미지/봄.png') no-repeat center center / cover;
      z-index: -1;
    }

    /* 텍스트 박스와 선택지 */
    #story-box {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 1000px;
      background: rgba(255, 255, 255, 0.8);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      font-size: 22px;
      color: #000;
    }

    .choices {
      margin-top: 20px;
    }

    .choice {
      color: #0079dd;
      cursor: pointer;
      margin-bottom: 10px;
    }

    .choice:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div id="background"></div>
  <div id="story-box"></div>

  <script src="story_data_updated.js"></script>
  <script>
    let currentScene = "제목 없는 구절";

    function renderScene() {
      const scene = story[currentScene];
      const box = document.getElementById("story-box");
      if (!scene) {
        box.innerHTML = "<p>더 이상 진행할 수 없습니다.</p>";
        return;
      }

      let html = `<p>${scene.text.replace(/\n/g, "<br>")}</p>`;
      if (scene.choices && scene.choices.length > 0) {
        html += '<div class="choices">';
        scene.choices.forEach(choice => {
          html += `<div class="choice" onclick="goToScene('${choice.next}')">${choice.label}</div>`;
        });
        html += '</div>';
      }
      box.innerHTML = html;
    }

    

	function goToScene(id) {
  if (id === "__END__") {
    document.body.innerHTML = "<div style='background:black; color:white; font-size:24px; display:flex; align-items:center; justify-content:center; height:100vh;'>이야기가 끝났습니다.</div>";
    return;
  }
  if (id === "__MENU__") {
    location.href = "index.html";
    return;
  }
  currentScene = id;
  renderScene();
}

    renderScene();
  </script>
</body>
</html>
